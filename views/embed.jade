:go:func Embed(v *model.ViewsData)

:go:import "instafix/views/model"

mixin for(golang)
	#cmd Precompile jade templates to #{golang} code.

doctype html
html(lang='en')
  head
    meta(property='og:url', content=v.URL)
    meta(property='twitter:site', content=v.Title)
    meta(property='twitter:creator', content=v.Title)
    meta(name='theme-color', content='#CE0071')
    if (v.Title != "")
      meta(property='twitter:title', content=v.Title)

    meta(property='og:title', content=v.Title)    
    meta(property='og:description', content=v.Description)
    if (v.VideoURL != "" || v.ImageURL != "")
      meta(property='og:site_name', content='InstaFix')    

    meta(property='twitter:card', content='summary_large_image')

    if (v.VideoURL != "")
      meta(property='og:video', content=v.VideoURL)
      meta(property='og:video:secure_url', content=v.VideoURL)
      meta(property='og:video:type', content='video/mp4')
      meta(property='og:video:width', content=v.Width)
      meta(property='og:video:height', content=v.Height)

    if (v.Card != "")
      meta(property='twitter:card', content=v.Card)
    if (v.VideoURL != "")
      meta(property='twitter:player:stream', content=v.VideoURL)
      meta(property='twitter:player:stream:content_type', content='video/mp4')
      meta(property='twitter:player:width', content=v.Width)
      meta(property='twitter:player:height', content=v.Height)

    if (v.OEmbedURL != "")
      link(rel='alternate', href!=v.OEmbedURL, type='application/json+oembed', title=v.Title)

    meta(http-equiv='refresh', content=`0; url = ${v.URL}`)

  body
    | Redirecting you to the post in a moment. 
    a(href=v.URL) Or click here.
